comment | // ==UserScript==
undefined |
comment | // @name Test HTML/CSS highlights
undefined |
comment | // ==/UserScript==
undefined |
undefined |
variable | document
undefined | .
property | body
undefined | .
property | insertAdjacentHTML
undefined | (
string | 'beforeend'
undefined | ,
null |
string-2 | `
tag bracket | <
tag | div
null |
attribute | class
null | =
string | "foo"
tag bracket | >
undefined |
null |
tag bracket | <
tag | p
tag bracket | >
null | hello
tag bracket | <
tag | i
tag bracket | >
null | world
tag bracket | </
tag | i
tag bracket | >
tag bracket | </
tag | p
tag bracket | >
undefined |
tag bracket | </
tag | div
tag bracket | >
string-2 | `
undefined | )
undefined | ;
undefined |
variable | someElt
undefined | .
property | insertAdjacentHTML
undefined | (
string | 'afterbegin'
undefined | ,
null |
string-2 | `\
undefined |
string-2 |
tag bracket | <
tag | hr
null |
attribute | class
null | =
string | "bar"
tag bracket | >
string-2 | `
undefined | )
undefined | ;
null |
comment | // html can appear in second line
undefined |
undefined |
keyword | var
null |
def | insertPos
null |
operator | =
null |
string | 'afterbegin'
undefined | ;
null |
comment | // variable also okay, extra spaces okay too
undefined |
variable | otherElt
undefined | .
property | insertAdjacentHTML
null |
undefined | (
null |
variable | insertPos
undefined | ,
null |
string-2 | `
tag bracket | <
tag | div
null |
attribute | style
null | =
string | "margin: 1em;"
tag bracket | >
undefined |
null |
null | hello
undefined |
tag bracket | </
tag | div
tag bracket | >
string-2 | `
undefined | )
undefined | ;
undefined |
undefined |
variable | GM_addStyle
undefined | (
string-2 | `
undefined |
builtin | #some-id
null |
tag | div
null |
null | {
undefined |
null |
property | color
null | :
null |
atom | #FF0000
null | ;
undefined |
null |
property | border-bottom
null | :
null |
number | 1px
null |
atom | solid
null |
keyword | gray
null | ;
undefined |
null |
property | z-index
null | :
null |
number | 123
null | ;
undefined |
null | }
string-2 | `
undefined | )
undefined | ;
undefined |
variable | GM_addStyle
undefined | (
string-2 | `
null |
tag | a
null |
null | {
null |
property | color
null | :
null |
keyword | pink
null | ;
null |
null | }
string-2 | `
undefined | )
undefined | ;
undefined |
undefined |
variable | someElt
undefined | .
property | innerHTML
null |
operator | =
null |
string-2 | `
tag bracket | <
tag | span
null |
attribute | id
null | =
string | "bar"
tag bracket | >
undefined |
null |
null | 123
comment | <!-- html comments -->
undefined |
tag bracket | </
tag | span
tag bracket | >
string-2 | `
undefined | ;
undefined |
undefined |
comment | // highlight arbitrary string template with a inline comment as a hint
undefined |
keyword | const
null |
def | someHTML
null |
operator | =
null |
comment | /* html */
null |
string-2 | `
null | \
undefined |
tag bracket | <
tag | br
tag bracket | >
undefined |
null |
tag bracket | <
tag | hr
null |
attribute | class
null | =
string | "acme"
tag bracket | >
string-2 | `
undefined | ;
undefined |
undefined |
keyword | let
null |
def | someCSS
null |
operator | =
null |
comment | /* CSS  */
null |
string-2 | `
qualifier | .a
null | :
variable-3 | visited
null |
null | {
undefined |
null |
property | color
null | :
null |
keyword | purple
null | ;
undefined |
null | }
string-2 | `
undefined | ;
undefined |
undefined |
comment | // auto detect html-like string template without the hint
undefined |
keyword | const
null |
def | otherHTML
null |
operator | =
null |
string-2 | `
tag bracket | <
tag | div
null |
attribute | class
null | =
string | "bar"
tag bracket | >
undefined |
null |
null | hello
undefined |
tag bracket | </
tag | div
tag bracket | >
string-2 | `
undefined | ;
undefined |
undefined |
comment | // plain string support
undefined |
undefined |
keyword | var
null |
def | uiHtml
null |
operator | =
null |
string | '
tag bracket | <
tag | h1
tag bracket | >
null | heading
tag bracket | </
tag | h1
tag bracket | >
string | '
null |
operator | +
undefined |
null |
string | '
tag bracket | <
tag | span
null |
attribute | id
null | =
string | "someId"
null |
attribute | class
null | =
string | "foo"
tag bracket | >
null | time is:
string | '
null |
operator | +
null |
variable | now
null |
operator | +
null |
string | '
tag bracket | </
tag | span
tag bracket | >
string | '
null |
operator | +
undefined |
null |
string | '
null |
tag bracket | <
tag | br
tag bracket | >
string | '
null |
operator | +
null |
comment | // leading spaces okay
undefined |
null |
string | '
tag bracket | <
tag | br
tag bracket | >
string | '
null |
operator | +
undefined |
null |
string | '
tag bracket | <
tag | br
tag bracket | />
string | '
null |
operator | +
undefined |
null |
string | "
tag bracket | <
tag | br
null |
tag bracket | />
string | "
null |
operator | +
null |
comment | // double-quoted string
undefined |
null |
string | "
tag bracket | </
tag | div
null |
tag bracket | >
string | "
null |
operator | +
null |
comment | // doesn't complain if there is no opening <div>
undefined |
null |
string | '
tag bracket | <
tag | img
null |
attribute | alt
null | =
string | "Quotes \'in text\'"
null |
attribute | src
null | =
string | "bar.jpg"
tag bracket | >
string | '
undefined | ;
null |
comment | // handle some escaping quotes well
undefined |
undefined |
keyword | var
null |
def | dbgMsg
null |
operator | =
null |
string | '<-- output'
undefined | ;
null |
comment | // doesn't get mistaken as html
undefined |
undefined |
comment | // some limitations
undefined |
comment | //
undefined |
variable | someElt
undefined | .
property | innerHTML
null |
operator | =
null |
string | "
tag bracket | <
tag | br
null |
attribute | class
null | =
string | \
string error | " foo\"
tag bracket | >
string | "
null |
operator | +
null |
comment | // does not hanlde some escaping well
undefined |
null |
string | '
tag bracket | <
tag | div
null |
attribute | class
null | =
string | "
string | '
null |
operator | +
null |
variable | classToUse
null |
operator | +
null |
string | '"></div>'
null |
operator | +
null |
comment | // doesn't detect if a string begins with a partial tag
undefined |
null |
string | 'plain text <hr>'
undefined | ;
null |
comment | // doesn't detect if some plain text at the beginning.
undefined |
undefined |
variable | console
undefined | .
property | debug
undefined | (
string | '
tag bracket | <
tag | dbg
tag bracket | >
null |
null | this is some debug statement
string | '
undefined | )
undefined | ;
null |
comment | // mistaken as html as the string  starts with a tag
undefined |
undefined |
comment | //
undefined |
comment | // Tests for handling js expression inside a string template,
undefined |
comment | // especially those with nested string templates.
undefined |
undefined |
comment | // ensure backtick within a JS expression are tokenized as part of the expression,
undefined |
comment | // rather than incorrectly ending the string template
undefined |
keyword | let
null |
def | someUi
null |
operator | =
null |
string-2 | `
tag bracket | <
tag | section
null |
attribute | title
null | =
string | "
string-2 | ${
variable | trimLeft
undefined | (
string-2 | `
undefined |
null |
string-2 | Some title
undefined |
string-2 | `
undefined | )
string-2 | }
string | "
tag bracket | >
null | Hello World
undefined |
tag bracket | </
tag | section
tag bracket | >
string-2 | `
undefined | )
undefined | ;
undefined |
undefined |
comment | // works too for backtick in the expression not at the beginning of a token/line.
undefined |
keyword | let
null |
def | someUi
null |
operator | =
null |
string-2 | `
tag bracket | <
tag | section
null |
attribute | title
null | =
string | "
string-2 | ${
variable | trimLeft
undefined | (
string-2 | `
undefined |
null |
string-2 | Some title`
undefined | )
string-2 | }
string | "
tag bracket | >
null | Hello World
undefined |
tag bracket | </
tag | section
tag bracket | >
string-2 | `
undefined | )
undefined | ;
undefined |
undefined |
comment | // ensure simple cases work too
undefined |
keyword | let
null |
def | someUi
null |
operator | =
null |
string-2 | `
tag bracket | <
tag | section
null |
attribute | title
null | =
string | "
string-2 | ${
variable | someTitle
string-2 | }
string | "
tag bracket | >
null | Hello
tag bracket | <
tag | section
tag bracket | >
string-2 | `
undefined | ;
undefined |
variable | someUi
null |
operator | =
null |
string-2 | `
tag bracket | <
tag | section
null |
attribute | title
null | =
string | "prefix
string-2 | ${
variable | someTitle
string-2 | }
null |
string | suffix"
tag bracket | >
null | Hello
tag bracket | <
tag | section
tag bracket | >
string-2 | `
undefined | ;
undefined |
variable | someUi
null |
operator | =
null |
string-2 | `
tag bracket | <
tag | section
tag bracket | >
null |
string-2 | ${
variable | someTextFunc
undefined | (
undefined | )
string-2 | }
tag bracket | <
tag | section
tag bracket | >
string-2 | `
undefined | ;
undefined |
undefined |
comment | // different attribute value quoting styles
undefined |
variable | someUi
null |
operator | =
null |
string-2 | `
tag bracket | <
tag | section
null |
attribute | title
null | =
string | '
string-2 | ${
variable | someTitle
string-2 | }
string | '
tag bracket | >
null | Hello
tag bracket | <
tag | section
tag bracket | >
string-2 | `
undefined | ;
undefined |
variable | someUi
null |
operator | =
null |
string-2 | `
tag bracket | <
tag | section
null |
attribute | id
null | =
string | "
string-2 | ${
variable | someId
string-2 | }
string | "
null |
attribute | title
null | =
string | '
string-2 | ${
variable | someTitle
string-2 | }
string | '
tag bracket | >
null | Hello
tag bracket | <
tag | section
tag bracket | >
string-2 | `
undefined | ;
undefined |
variable | someUi
null |
operator | =
null |
string-2 | `
tag bracket | <
tag | section
null |
attribute | id
null | =
string | "
string-2 | ${
variable | someId
string-2 | }
string | "
null |
attribute | title
null | =
string | '
string-2 | ${
variable | someTitle
string-2 | }
string | '
null |
attribute | col
null | =
string |
string-2 | ${
variable | getCol
undefined | (
undefined | )
string-2 | }
tag bracket | >
null | Hello
tag bracket | <
tag | section
tag bracket | >
string-2 | `
undefined | ;
undefined |
undefined |
comment | // js expressions in multi-lined attribute value
undefined |
variable | someUi
null |
operator | =
null |
string-2 | `
tag bracket | <
tag | span
null |
attribute | title
null | =
string | "
string-2 | ${
variable | someVar
string-2 | }
undefined |
null |
string | "
tag bracket | >
null | text content
tag bracket | </
tag | span
tag bracket | >
string-2 | `
undefined | ;
undefined |
undefined |
variable | someUi
null |
operator | =
null |
string-2 | `
tag bracket | <
tag | span
null |
attribute | title
null | =
string | "
undefined |
string |
string-2 | ${
variable | someVar
string-2 | }
string | "
tag bracket | >
undefined |
null |
null | text content
tag bracket | </
tag | span
tag bracket | >
string-2 | `
undefined |
undefined |
variable | someUi
null |
operator | =
null |
string-2 | `
tag bracket | <
tag | span
null |
attribute | title
null | =
string | "
undefined |
null |
string |
string-2 | ${
variable | someVar
string-2 | }
string | "
tag bracket | >
undefined |
null |
null | text content
tag bracket | </
tag | span
tag bracket | >
string-2 | `
undefined |
undefined |
variable | someUi
null |
operator | =
null |
string-2 | `
tag bracket | <
tag | span
null |
attribute | title
null | =
string | "foo
undefined |
null |
string |
string-2 | ${
variable | someVar
string-2 | }
null |
string | blah"
tag bracket | >
undefined |
null |
null | text content
tag bracket | </
tag | span
tag bracket | >
string-2 | `
undefined |
undefined |
variable | someUi
null |
operator | =
null |
string-2 | `
tag bracket | <
tag | span
null |
attribute | title
null | =
string | "foo
undefined |
null |
string |
string-2 | ${
variable | someVar
string-2 | }
undefined |
null |
string | blah"
tag bracket | >
undefined |
null |
null | text content
tag bracket | </
tag | span
tag bracket | >
string-2 | `
undefined |
undefined |
comment | // ensure nested case works too
undefined |
keyword | let
null |
def | someUi
null |
operator | =
null |
string-2 | `
tag bracket | <
tag | section
null |
attribute | title
null | =
string | "
string-2 | ${
variable | trimLeft
undefined | (
string-2 | `
undefined |
null |
string-2 | Some title ${
variable | foo
null |
operator | ?
null |
string-2 | `val1`
null |
undefined | :
string-2 | `val2
undefined |
string-2 | `
string-2 | }
undefined |
string-2 | `
undefined | )
string-2 | }
string | "
tag bracket | >
null | Hello World
undefined |
tag bracket | </
tag | section
tag bracket | >
string-2 | `
undefined | )
undefined | ;
undefined |
undefined |
comment | // nested case 2
undefined |
keyword | let
null |
def | someUi
null |
operator | =
null |
string-2 | `
tag bracket | <
tag | section
null |
attribute | title
null | =
string | "
string-2 | ${
variable | trimLeft
undefined | (
string-2 | `
undefined |
null |
string-2 | Some title
undefined |
null |
string-2 | ${
variable | someExpr
undefined | (
undefined | )
string-2 | }
undefined |
string-2 | `
undefined | )
string-2 | }
string | "
tag bracket | >
null | Hello World
undefined |
tag bracket | </
tag | section
tag bracket | >
string-2 | `
undefined | )
undefined | ;
undefined |
undefined |
comment | // leading blank spaces before inner ending backtick
undefined |
keyword | let
null |
def | someUi
null |
operator | =
null |
string-2 | `
tag bracket | <
tag | section
null |
attribute | title
null | =
string | "
string-2 | ${
variable | trimLeft
undefined | (
string-2 | `
undefined |
null |
string-2 | Some title
undefined |
null |
string-2 | ${
variable | someExpr
undefined | (
undefined | )
string-2 | }
undefined |
null |
string-2 | `
undefined | )
string-2 | }
string | "
tag bracket | >
null | Hello World
undefined |
tag bracket | </
tag | section
tag bracket | >
string-2 | `
undefined | )
undefined | ;
undefined |
undefined |
comment | // } inside the expression is treated properly too
undefined |
keyword | let
null |
def | someUi
null |
operator | =
null |
string-2 | `
tag bracket | <
tag | section
null |
attribute | title
null | =
string | "
string-2 | ${
variable | trimLeft
undefined | (
string-2 | `
undefined |
null |
string-2 | Some title } the close curly bracket is not mistaken as the ending bracket
undefined |
string-2 | <br>other text
undefined |
string-2 | `
undefined | )
string-2 | }
string | "
tag bracket | >
null | Hello World
undefined |
tag bracket | </
tag | section
tag bracket | >
string-2 | `
undefined | )
undefined | ;
undefined |
undefined |
variable | someUi
null |
operator | =
null |
string-2 | `
tag bracket | <
tag | section
null |
attribute | title
null | =
string | "
string-2 | ${
variable | trimLeft
undefined | (
string-2 | `
undefined |
null |
string-2 | Some title
undefined |
string-2 | }
undefined |
string-2 | the close curly bracket above (a standalone token) is not mistaken as the ending bracket
undefined |
string-2 | <br>other text
undefined |
string-2 | `
undefined | )
string-2 | }
string | "
tag bracket | >
null | Hello World
undefined |
tag bracket | </
tag | section
tag bracket | >
string-2 | `
undefined | )
undefined | ;
undefined |
undefined |
keyword | const
null |
def | foo
null |
operator | =
null |
number | 1
undefined | ;
undefined |
undefined |
comment | // works for CSS too
undefined |
variable | GM_addStyle
undefined | (
string-2 | `
qualifier | .foo
null |
null | {
undefined |
null |
property | content
null | :
null |
string | "
string-2 | ${
variable | someContent
string-2 | }
string | ";
undefined |
null | }
string-2 | `
undefined | )
undefined | ;
undefined |
undefined |
variable | GM_addStyle
undefined | (
string-2 | `
qualifier | .foo
null |
null | {
undefined |
null |
property | content
null | :
null |
string | "
string-2 | ${
variable | trimBlanks
undefined | (
string-2 | `
undefined |
null |
string-2 | Some title
undefined |
string-2 | `
undefined | )
string-2 | }
string | ";
undefined |
null | }
undefined |
undefined |
qualifier | .bar
null |
null | {
undefined |
null |
property | border
null | :
null |
number | 1px
null |
atom | solid
null | ;
undefined |
null | }
string-2 | `
undefined | )
undefined | ;
undefined |
undefined |
keyword | var
null |
def | end
null |
operator | =
null |
atom | true
undefined | ;
undefined |
undefined |
